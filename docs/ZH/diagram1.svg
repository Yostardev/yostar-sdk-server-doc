<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1348" height="662" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[title: 第三方登录时序图

"Game-Client" -> "SDK-Client": 点击FB/TT/GG/Yostar/Apple登录按钮

"SDK-Client" -> "Third-party login server": 请求授权

"Third-party login server" --> "SDK-Client": 返回accesstoken等授权信息


"SDK-Client" -> "SDK-Server": 创建登录API(accesstoken等授权信,deviceId等)
"SDK-Server" --> "SDK-Client": 创建登录API返回uid,token,isNew

"SDK-Client" -> "SDK-Server": 使用uid,token请求登录
"SDK-Server" --> "SDK-Client": 登录返回accesstoken

"SDK-Client" --> "SDK-Client": 处理登录结果


"SDK-Client" --> "Game-Client": 返回SDK用户accesstoken,uid

"Game-Client" -> "Game-LoginServer": SDK用户请求登录(accesstoken,uid)


"Game-LoginServer" -> "SDK-Server": 验证SDK用户accesstoken,uid(/api/user_check)
"SDK-Server" --> "Game-LoginServer": 返回验证结果


"Game-LoginServer" --> "Game-LoginServer": 处理登录请求

"Game-LoginServer" --> "Game-Client": 返回登录结果

]]></source><desc>第三方登录时序图</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="138" height="26" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="15" y="29" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">第三方登录时序图</tspan></text></g><g class="actor"><rect x="10" y="46" width="108" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="70" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">Game-Client</tspan></text></g><g class="actor"><rect x="10" y="606" width="108" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="630" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">Game-Client</tspan></text></g><line x1="64" x2="64" y1="82" y2="606" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="298" y="46" width="100" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="308" y="70" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="308">SDK-Client</tspan></text></g><g class="actor"><rect x="298" y="606" width="100" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="308" y="630" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="308">SDK-Client</tspan></text></g><line x1="348" x2="348" y1="82" y2="606" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="462" y="46" width="212" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="472" y="70" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="472">Third-party login server</tspan></text></g><g class="actor"><rect x="462" y="606" width="212" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="472" y="630" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="472">Third-party login server</tspan></text></g><line x1="568" x2="568" y1="82" y2="606" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="694" y="46" width="100" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="704" y="70" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="704">SDK-Server</tspan></text></g><g class="actor"><rect x="694" y="606" width="100" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="704" y="630" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="704">SDK-Server</tspan></text></g><line x1="744" x2="744" y1="82" y2="606" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="1034" y="46" width="148" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1044" y="70" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1044">Game-LoginServer</tspan></text></g><g class="actor"><rect x="1034" y="606" width="148" height="36" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1044" y="630" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1044">Game-LoginServer</tspan></text></g><line x1="1108" x2="1108" y1="82" y2="606" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="74" y="113" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="74">点击FB/TT/GG/Yostar/Apple登录按钮</tspan></text><line x1="64" x2="348" y1="118" y2="118" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="426" y="149" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="426">请求授权</tspan></text><line x1="348" x2="568" y1="154" y2="154" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="358" y="185" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="358">返回accesstoken等授权信息</tspan></text><line x1="568" x2="348" y1="190" y2="190" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="374" y="221" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="374">创建登录API(accesstoken等授权信,deviceId等)</tspan></text><line x1="348" x2="744" y1="226" y2="226" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="426" y="257" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="426">创建登录API返回uid,token,isNew</tspan></text><line x1="744" x2="348" y1="262" y2="262" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="462" y="293" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="462">使用uid,token请求登录</tspan></text><line x1="348" x2="744" y1="298" y2="298" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="470" y="329" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="470">登录返回accesstoken</tspan></text><line x1="744" x2="348" y1="334" y2="334" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="373" y="367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="373">处理登录结果</tspan></text><line x1="348" x2="368" y1="354" y2="354" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2;"></line><line x1="368" x2="368" y1="354" y2="375" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2;"></line><line x1="368" x2="348" y1="375" y2="375" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="102" y="401" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="102">返回SDK用户accesstoken,uid</tspan></text><line x1="348" x2="64" y1="406" y2="406" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="458" y="437" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="458">SDK用户请求登录(accesstoken,uid)</tspan></text><line x1="64" x2="1108" y1="442" y2="442" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="754" y="473" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="754">验证SDK用户accesstoken,uid(/api/user_check)</tspan></text><line x1="1108" x2="744" y1="478" y2="478" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="878" y="509" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="878">返回验证结果</tspan></text><line x1="744" x2="1108" y1="514" y2="514" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1133" y="547" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1133">处理登录请求</tspan></text><line x1="1108" x2="1128" y1="534" y2="534" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2;"></line><line x1="1128" x2="1128" y1="534" y2="555" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2;"></line><line x1="1128" x2="1108" y1="555" y2="555" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="538" y="581" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="538">返回登录结果</tspan></text><line x1="1108" x2="64" y1="586" y2="586" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>